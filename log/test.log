  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (125.2ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (438.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (1.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (3.4ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (3.5ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.2ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:16:24 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$PPLZBIMq00xQSSDFntzejO8nM69kVG9vLUKi0mGmprGHbhVnFmN6W"], ["created_at", "2015-03-29 20:16:24.594903"], ["updated_at", "2015-03-29 20:16:24.594903"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:16:24.600556"], ["current_sign_in_at", "2015-03-29 20:16:24.600556"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:16:24.602347"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 125ms (Views: 0.9ms | ActiveRecord: 8.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:16:24 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 29ms (Views: 0.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$LHi5Yb4hFlJ2hREgmj3K5e7u1qGbfoS.aG7Ce8r3EnPdw0xZXpvFK"], ["created_at", "2015-03-29 20:16:24.708550"], ["updated_at", "2015-03-29 20:16:24.708550"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$eW7oEdTtzF6TVxCc3kXtG.w8PRmiuIWKd1L2jNj1mPohT9CG5Ycla"], ["created_at", "2015-03-29 20:16:24.723638"], ["updated_at", "2015-03-29 20:16:24.723638"]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$v/XEpleszLsHd7ZT5LGkK.YVq/dlUM9qLyp0kOPrMUwVnvlNvrHqO"], ["created_at", "2015-03-29 20:16:24.753518"], ["updated_at", "2015-03-29 20:16:24.753518"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$liCVw13ro6YbzBbk.chigO0d79Bk.NXw70Nt6XEw9yzeMPMkzUXDW"], ["created_at", "2015-03-29 20:16:24.787230"], ["updated_at", "2015-03-29 20:16:24.787230"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rfederer"]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$twOlTiHzgCAg08Y/MJsTOuCs5EtLPfyh12RclzDmX6lF5Io9NuiFS"], ["created_at", "2015-03-29 20:16:24.810991"], ["updated_at", "2015-03-29 20:16:24.810991"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rnadal"]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$SisXqwGMOsOfuY2cAWYdp.vLhbIGGNqdDeyOwHd9IOkKD8Zczfxz2"], ["created_at", "2015-03-29 20:16:24.834695"], ["updated_at", "2015-03-29 20:16:24.834695"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$1z4T9uhqWlysC3RyxjRHQOFnBdmnHOMp97wL9InaIDdGuOJcgMd8W"], ["created_at", "2015-03-29 20:16:24.893103"], ["updated_at", "2015-03-29 20:16:24.893103"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["username", "rnadal"], ["updated_at", "2015-03-29 20:16:24.907733"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$.U0CsQ9WpO/3eK6yOf.5eOEGbv1KCQfUGahYzORJVqPhXjybIPA.m"], ["created_at", "2015-03-29 20:16:24.935686"], ["updated_at", "2015-03-29 20:16:24.935686"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (118.5ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (392.4ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:20:47 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$ULLWZV71HndoC48brZDQ7u6HCTy4wVrR7L2YgFyKDOjw/eYDefAwu"], ["created_at", "2015-03-29 20:20:47.276902"], ["updated_at", "2015-03-29 20:20:47.276902"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:20:47.282162"], ["current_sign_in_at", "2015-03-29 20:20:47.282162"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:20:47.284270"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 123ms (Views: 1.0ms | ActiveRecord: 7.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:20:47 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 25ms (Views: 0.2ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$kErQHkEqqo.EHePbU75cXO2Xuz/boTARJx.pAPcAGbMQJmrTF/PjW"], ["created_at", "2015-03-29 20:20:47.384396"], ["updated_at", "2015-03-29 20:20:47.384396"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$9REUdO8z3GWXXPGgqeRnIu.juN4HN.MkqCMD6f0Wp6Pn432GIfXVm"], ["created_at", "2015-03-29 20:20:47.395400"], ["updated_at", "2015-03-29 20:20:47.395400"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$NM.mYOY8DZMxsHawrVHz8uTAyISFjL2FXj9x.eBPrvRhoYj58Yx3W"], ["created_at", "2015-03-29 20:20:47.410050"], ["updated_at", "2015-03-29 20:20:47.410050"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$8XMeOpHqjPm3b39I.K1F3OAwWBJkiy/l0ycfndOY92goJA.gJrzm6"], ["created_at", "2015-03-29 20:20:47.432399"], ["updated_at", "2015-03-29 20:20:47.432399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rfederer"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$XBYh.s888VKZfTsjMx.uvu5N5840AQl6e/xKApFlZkLKd5Ey5zSua"], ["created_at", "2015-03-29 20:20:47.446245"], ["updated_at", "2015-03-29 20:20:47.446245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rnadal"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$XzWuO2nQd4OSHshfP/qtL.aiQtZQfXT8sG5sjxNshRZ.e0iOZLKOC"], ["created_at", "2015-03-29 20:20:47.462862"], ["updated_at", "2015-03-29 20:20:47.462862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$xOyRvD7jQ1KtQDNybdeu2OZb1aPGX9HY9cyjfFedE.n4zCQ5QCc3S"], ["created_at", "2015-03-29 20:20:47.505502"], ["updated_at", "2015-03-29 20:20:47.505502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["username", "rnadal"], ["updated_at", "2015-03-29 20:20:47.516026"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$HpIidPq9Td5LPcQdSfYNmuKnUAIQxYHXMUmUe0EXqeI.I0eBBbDT2"], ["created_at", "2015-03-29 20:20:47.537828"], ["updated_at", "2015-03-29 20:20:47.537828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (119.0ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (249.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.1ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.9ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:21:36 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$R/IOPEeFqY3pAYnLB2cP5u2g2qBrUJydHih5XF2loVNOFfGHfCau2"], ["created_at", "2015-03-29 20:21:36.524355"], ["updated_at", "2015-03-29 20:21:36.524355"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:21:36.531417"], ["current_sign_in_at", "2015-03-29 20:21:36.531417"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:21:36.533617"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 129ms (Views: 0.8ms | ActiveRecord: 8.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:21:36 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 24ms (Views: 0.4ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$FaYg0pGqKtjBktGQjwvBSexQTJTTHvytopCJMXGgFSU70LqNGIxo2"], ["created_at", "2015-03-29 20:21:36.633210"], ["updated_at", "2015-03-29 20:21:36.633210"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$GxigeHOvRjklnnYXQStLpeaVm4Qua36l/NizeFnPdBOrhaTyv6LUG"], ["created_at", "2015-03-29 20:21:36.644340"], ["updated_at", "2015-03-29 20:21:36.644340"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$6ACb83tC/f77qQDpoCHge.o9Z/uK/xKJvvDD/SRmBBdKufiw0TNw2"], ["created_at", "2015-03-29 20:21:36.659973"], ["updated_at", "2015-03-29 20:21:36.659973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$a3pxbPMoPDI7ZBBMz3mFAuwo5VeDQH/6aaIrzBdENSf7lLDSKk7q6"], ["created_at", "2015-03-29 20:21:36.682343"], ["updated_at", "2015-03-29 20:21:36.682343"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rfederer"]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$yYA9dRYSycfK7M0o3APYxuRsp4qiXwmihDQDnIf712d1JlBI8Q9ei"], ["created_at", "2015-03-29 20:21:36.699898"], ["updated_at", "2015-03-29 20:21:36.699898"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rnadal"]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$TwHiuzb8Xu1wLhQ9k..2o.3vCS6J3NfnLBBJf6yEgRZg.W/vPicxG"], ["created_at", "2015-03-29 20:21:36.720094"], ["updated_at", "2015-03-29 20:21:36.720094"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$4TtPgUuUG9pe1DuB0lVpLODYDFSVEcTIWoNvUZZ0EWccbKUKCnTvS"], ["created_at", "2015-03-29 20:21:36.759277"], ["updated_at", "2015-03-29 20:21:36.759277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["username", "rnadal"], ["updated_at", "2015-03-29 20:21:36.769492"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$XfDr4gsCUg48kpNS0Cx1M.c8VihMOOquoHFYZ3el2bxTtVrP498Ii"], ["created_at", "2015-03-29 20:21:36.793162"], ["updated_at", "2015-03-29 20:21:36.793162"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (126.5ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (250.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'tryit_test'
  [1m[36m (18.2ms)[0m  [1mTRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:22:08 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$y5bQJajcBTy7h2DTR4aP4erlyQk6n6NOEDtcFN/bxQSRLiBKcqXYC"], ["created_at", "2015-03-29 20:22:08.377097"], ["updated_at", "2015-03-29 20:22:08.377097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 20:22:08.381161"], ["current_sign_in_at", "2015-03-29 20:22:08.381161"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:22:08.382328"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 75ms (Views: 0.5ms | ActiveRecord: 5.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:22:08 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$SKssCE28.3GI8Zj1MPKhcuWHZ6vNAPA9nVe.k4sGuvXyYiaRkbsbq"], ["created_at", "2015-03-29 20:22:08.451136"], ["updated_at", "2015-03-29 20:22:08.451136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$F3qbcg5S4fzqwPKvKisgIeTOPiFiPGV6escAapT7dMfvtQONZkNvy"], ["created_at", "2015-03-29 20:22:08.460216"], ["updated_at", "2015-03-29 20:22:08.460216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$.EKQt2L2GGQ6JLfQK2sWmeRZ4vI0YJ4g8L9Qiqvn4TR.O0Kf/7Rxi"], ["created_at", "2015-03-29 20:22:08.470249"], ["updated_at", "2015-03-29 20:22:08.470249"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$rTyPzRHDAYGXzSVSdwqkyelFF5TqZbNZuXdExkYM9krts.uUhLb36"], ["created_at", "2015-03-29 20:22:08.486101"], ["updated_at", "2015-03-29 20:22:08.486101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$O/CyxkzLQ7ETHV3M1tX0D.QtZP6easlCA26PLvVLrqMwGcRADihEa"], ["created_at", "2015-03-29 20:22:08.498385"], ["updated_at", "2015-03-29 20:22:08.498385"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$ZC1gPeMauIM8uUVMf448luXzY6.f3ccVpVV6FwpgnLtB623dcd0Me"], ["created_at", "2015-03-29 20:22:08.510873"], ["updated_at", "2015-03-29 20:22:08.510873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$cSSz.L6y2H02oRMlMitZ5..T8yP0afH.l7EAAe5VgBptYaxCae2Ta"], ["created_at", "2015-03-29 20:22:08.539408"], ["updated_at", "2015-03-29 20:22:08.539408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 8) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 20:22:08.546552"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$7RHbbeWTOjOi2cjNgUra8uO.jWpTDBYFOB9x0nGDBgUUwCHp/s0rW"], ["created_at", "2015-03-29 20:22:08.561989"], ["updated_at", "2015-03-29 20:22:08.561989"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (136.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (415.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.7ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:43:06 +0100
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"{\"user\":{\"email\":\"dnlserrano@mail.com\",\"username\":\"dnlserrano\",\"password\":\"1h29t3un48tu309\",\"password_confirmation\":\"1h29t3un48tu309\"}}"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/shared/_links.html.erb (10.1ms)
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/registrations/new.html.erb within layouts/application (55.9ms)
Completed 200 OK in 220ms (Views: 101.8ms | ActiveRecord: 6.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:43:06 +0100
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"{\"user\":{\"email\":\"dnlserrano@mail.com\",\"username\":\"dnlserrano\",\"password\":\"123\"}}"=>"[FILTERED]"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/shared/_links.html.erb (4.5ms)
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/registrations/new.html.erb within layouts/application (15.7ms)
Completed 200 OK in 27ms (Views: 16.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (127.7ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (278.1ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:44:45 +0100
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"{\"user\":{\"email\":\"dnlserrano@mail.com\",\"username\":\"dnlserrano\",\"password\":\"1h29t3un48tu309\",\"password_confirmation\":\"1h29t3un48tu309\"}}"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/shared/_links.html.erb (8.5ms)
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/registrations/new.html.erb within layouts/application (38.9ms)
Completed 200 OK in 151ms (Views: 63.6ms | ActiveRecord: 5.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:44:46 +0100
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"{\"user\":{\"email\":\"dnlserrano@mail.com\",\"username\":\"dnlserrano\",\"password\":\"123\"}}"=>"[FILTERED]"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/shared/_links.html.erb (4.4ms)
  Rendered /Users/dnlserrano/.rvm/gems/ruby-2.2.1/gems/devise-3.4.1/app/views/devise/registrations/new.html.erb within layouts/application (17.2ms)
Completed 200 OK in 30ms (Views: 18.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (120.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (252.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.5ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:45:16 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$98U5pzO9PPI.khhhu5x5He96mstf56xbnAY7MlWKDZc2nTnFgYRWm"], ["created_at", "2015-03-29 20:45:16.331332"], ["updated_at", "2015-03-29 20:45:16.331332"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:45:16.343808"], ["current_sign_in_at", "2015-03-29 20:45:16.343808"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:45:16.345558"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 96ms (Views: 0.7ms | ActiveRecord: 7.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:45:16 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"username"=>"dnlserrano", "email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (125.1ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (265.5ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.5ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:45:40 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (8.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$QXnzKG21cxOMr96wPKkLy.16I2OhihhrNG.aHFEWH8BAdRWFEpjZ6"], ["created_at", "2015-03-29 20:45:40.352935"], ["updated_at", "2015-03-29 20:45:40.352935"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:45:40.364893"], ["current_sign_in_at", "2015-03-29 20:45:40.364893"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:45:40.366842"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 105ms (Views: 0.7ms | ActiveRecord: 14.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:45:40 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]"}}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (127.7ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (418.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.5ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.7ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.2ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:46:42 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$MRw3l7AkVtKWWM44gYSVpOFGpxkUQMPbcf.hp1Od2CiGQKWU5R1gO"], ["created_at", "2015-03-29 20:46:42.807312"], ["updated_at", "2015-03-29 20:46:42.807312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:46:42.810636"], ["current_sign_in_at", "2015-03-29 20:46:42.810636"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:46:42.811651"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 90ms (Views: 0.5ms | ActiveRecord: 6.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:46:42 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 26ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (117.1ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (455.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (9.0ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (118.8ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (270.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.2ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.1ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:52:39 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$f1nBmfhFoISE6XujcWFlpuI35.xaFvh80hWtqxF5f/V/U49rjHMPG"], ["created_at", "2015-03-29 20:52:40.078821"], ["updated_at", "2015-03-29 20:52:40.078821"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:52:40.083179"], ["current_sign_in_at", "2015-03-29 20:52:40.083179"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:52:40.084894"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 131ms (Views: 1.2ms | ActiveRecord: 9.8ms)
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:52:40 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 34ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (119.8ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (251.9ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (6.7ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:52:55 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$wer04cqL5DHSqPoQgxX3iepQlWafAa0hf1aT/jPrBkc/H5XkF5EcS"], ["created_at", "2015-03-29 20:52:55.636014"], ["updated_at", "2015-03-29 20:52:55.636014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 20:52:55.641134"], ["current_sign_in_at", "2015-03-29 20:52:55.641134"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 20:52:55.643071"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 116ms (Views: 0.9ms | ActiveRecord: 7.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-03-29 21:52:55 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 23ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (128.3ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (298.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (3.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (11.2ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$3U6/o3MSbYstNs3HYFQgfuaJ3U/nHbS1Ffs7gVZr6VqkUtFGtQgMy"], ["created_at", "2015-03-29 21:10:52.308112"], ["updated_at", "2015-03-29 21:10:52.308112"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$uamvVvdQrhbgfVdorSuMs.2OHpriaJrN2ULM/BBrothCJCIOA8lYC"], ["created_at", "2015-03-29 21:10:52.331247"], ["updated_at", "2015-03-29 21:10:52.331247"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (120.9ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (261.4ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.7ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (19.0ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$3DbtcPjUg/z0Hu/IDomL4.QPLSIdd0uR5XE2o0FmX4mxo1w.KNbry"], ["created_at", "2015-03-29 21:12:36.253398"], ["updated_at", "2015-03-29 21:12:36.253398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:12:36 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:12:36.337012"], ["current_sign_in_at", "2015-03-29 21:12:36.337012"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:12:36.338609"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 500 Internal Server Error in 32ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$aZCUuU8wQLgNePdNhciaReDQuPbtUGcpAhoHA0yQd630Umkghnmwe"], ["created_at", "2015-03-29 21:12:36.350526"], ["updated_at", "2015-03-29 21:12:36.350526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:12:36 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 21:12:36.361860"], ["current_sign_in_at", "2015-03-29 21:12:36.361860"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:12:36.363144"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 500 Internal Server Error in 9ms
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (126.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (432.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.5ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.4ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$TXZZ0NeBKIB01Pg5xioFOezCl0p/LVrWM.poJvZw1vYn2YB/Ymfca"], ["created_at", "2015-03-29 21:19:15.089459"], ["updated_at", "2015-03-29 21:19:15.089459"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:19:15 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:19:15.179476"], ["current_sign_in_at", "2015-03-29 21:19:15.179476"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:19:15.181246"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "949ce00ea76de506894a95412824cf53bae0d3135f9f7931934cd6d7c9773ebf"], ["updated_at", "2015-03-29 21:19:15.187519"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 76ms (Views: 0.5ms | ActiveRecord: 2.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$/tsqhC2oQo2cwHUq.iI9SOSd28/tGWGBPxcQaZR1.F1bRRikMz99e"], ["created_at", "2015-03-29 21:19:15.236215"], ["updated_at", "2015-03-29 21:19:15.236215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:19:15 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-03-29 21:19:15.251587"], ["current_sign_in_at", "2015-03-29 21:19:15.251587"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:19:15.253895"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["token", "bb611457b876b964d5840d95bb48708b5e84200d39954f2a6e0537647248990b"], ["updated_at", "2015-03-29 21:19:15.259544"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 20ms (Views: 0.5ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (129.6ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (253.7ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.5ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$3HP6CeCqWuZfkyi2.BxmweOXuafYsqGMaxcI7yIZKmKZ4Ihhybt.C"], ["created_at", "2015-03-29 21:21:17.358501"], ["updated_at", "2015-03-29 21:21:17.358501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:21:17 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:21:17.440308"], ["current_sign_in_at", "2015-03-29 21:21:17.440308"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:21:17.442518"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "12a9acefc671055827611b63d2ba9b399be3e454b1e9ac3fce742ab700bd7deb"], ["updated_at", "2015-03-29 21:21:17.450242"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 62ms (Views: 0.7ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (127.6ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (263.7ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$Rtc2u5mTsQeN7lVepmnn8OGSK42D1qM6wcc6TgGAFGtKwlofZj0tS"], ["created_at", "2015-03-29 21:25:14.290086"], ["updated_at", "2015-03-29 21:25:14.290086"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:25:14 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:25:14.370510"], ["current_sign_in_at", "2015-03-29 21:25:14.370510"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:25:14.372107"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "36c3c5988f8eb0033dc7a846718f0e0df03ef8c94a1db56099b35e42ca4e4c61"], ["updated_at", "2015-03-29 21:25:14.378813"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 500 Internal Server Error in 58ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (119.9ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (250.3ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.4ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.4ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.7ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$CnhFw4N7IAtD/KX.24WzFONC/fsHDQbq53dSQ7lOs0P4kVZ1cr2fq"], ["created_at", "2015-03-29 21:26:42.642514"], ["updated_at", "2015-03-29 21:26:42.642514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:26:42 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:26:42.719737"], ["current_sign_in_at", "2015-03-29 21:26:42.719737"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:26:42.721105"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "3e24a1594cae2b39f23e8d1ecd610c8efad4326350320e1f9b99a2aca03e3648"], ["updated_at", "2015-03-29 21:26:42.727098"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 56ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (120.3ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (252.7ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.2ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.1ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (13.0ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$hGW77ZsuhLuNsJ4BA90lWOs7MNR29A8Lm7YMHxxRyQE1E/WmeT3LG"], ["created_at", "2015-03-29 21:27:05.729419"], ["updated_at", "2015-03-29 21:27:05.729419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:27:05 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:27:05.819133"], ["current_sign_in_at", "2015-03-29 21:27:05.819133"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:27:05.821288"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "a09bb65b80455276fbdf0a0a490b3c97111d3ea64354694d55603e6085ec7f99"], ["updated_at", "2015-03-29 21:27:05.828062"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 64ms (Views: 0.7ms | ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (129.3ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (261.1ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (15.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$nXADau3pMnh8/T49/zOFGuPRASaA7GJ1J1HNctNz/yaHjXoW/I6yq"], ["created_at", "2015-03-29 21:27:21.171669"], ["updated_at", "2015-03-29 21:27:21.171669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:27:21 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:27:21.250632"], ["current_sign_in_at", "2015-03-29 21:27:21.250632"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:27:21.252266"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "55f15450a699260816f6da191bde5c23c2d04705e7c01c72ef20f8bf067ac54a"], ["updated_at", "2015-03-29 21:27:21.260081"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 58ms (Views: 0.6ms | ActiveRecord: 2.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (5037.8ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
PG::ObjectInUse: ERROR:  database "tryit_test" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "tryit_test"
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (121.2ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (254.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.5ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.1ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (3.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (2.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$s6VbDOaUv8Q.wGXqPB9w4.8r5DThHCx86TqeAAHmdM.0voT7Ga28m"], ["created_at", "2015-03-29 21:30:46.372963"], ["updated_at", "2015-03-29 21:30:46.372963"]]
  [1m[35m (9.9ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:30:46 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:30:46.482153"], ["current_sign_in_at", "2015-03-29 21:30:46.482153"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:30:46.484257"], ["id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 57ms (Views: 0.6ms | ActiveRecord: 1.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (118.9ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (248.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.4ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (118.6ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (413.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.4ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.2ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$Yr8qQVTy7SiPt/vbgcczTuTmRWmRzXSrOArpw1Uk.X25vHVq3qKSS"], ["created_at", "2015-03-29 21:48:10.219943"], ["updated_at", "2015-03-29 21:48:10.219943"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:48:10 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:48:10.344918"], ["current_sign_in_at", "2015-03-29 21:48:10.344918"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:48:10.347863"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 92ms (Views: 1.2ms | ActiveRecord: 1.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$p9mnWh4RbfgfyauRs5tGE.sFcAbDtrgoS8LHfW4EFOhqqsY7/Un7S"], ["created_at", "2015-03-29 21:48:10.412472"], ["updated_at", "2015-03-29 21:48:10.412472"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:48:10 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 7ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (121.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (247.8ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (7.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.2ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.4ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.8ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$3/3YK5GmAfcaKw1esmfskO4UQEnVDuraqR.2kE1BsSvCuFXktwAUC"], ["created_at", "2015-03-29 21:48:29.044428"], ["updated_at", "2015-03-29 21:48:29.044428"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:48:29 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:48:29.148664"], ["current_sign_in_at", "2015-03-29 21:48:29.148664"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:48:29.151348"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 67ms (Views: 0.9ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$mHfsA.ndke9J42iQ9gam5.aB2koKERyNzFVLaP4vFmyXoUvtW20HC"], ["created_at", "2015-03-29 21:48:29.199245"], ["updated_at", "2015-03-29 21:48:29.199245"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:48:29 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 5ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (122.3ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (274.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.9ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.1ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$QPFlkTfho3zeQ6tju2RiUO7UYnSh5x1ohTfqHK6Nk0oFFAt/yE5Dy"], ["created_at", "2015-03-29 21:49:06.739426"], ["updated_at", "2015-03-29 21:49:06.739426"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:49:06 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:49:06.857224"], ["current_sign_in_at", "2015-03-29 21:49:06.857224"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:49:06.860225"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "956814b97ca5bf7cc20da3ec5b07d9849ba90c4bf88fd364d8f6be971232bc89"], ["updated_at", "2015-03-29 21:49:06.870546"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 90ms (Views: 1.3ms | ActiveRecord: 3.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$1qGeKP8DTc.xKkz.lv4BUO9QHLw1ydyXMYmeeRG4iBfZZnev5kBJ."], ["created_at", "2015-03-29 21:49:06.923738"], ["updated_at", "2015-03-29 21:49:06.923738"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:49:06 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 7ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (118.0ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (247.4ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.2ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.1ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.2ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$Wkyv0gUJwb2DzyobifkQi.TUny.gnn/.mLZDCIHIMQCThg1lDGCcu"], ["created_at", "2015-03-29 21:49:26.477118"], ["updated_at", "2015-03-29 21:49:26.477118"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:49:26 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:49:26.585288"], ["current_sign_in_at", "2015-03-29 21:49:26.585288"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:49:26.588992"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "4cee7c5074d2529ea7f5680dd03d4e19de1f607b6ff3e37a9287f1692df617ac"], ["updated_at", "2015-03-29 21:49:26.598730"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 79ms (Views: 0.9ms | ActiveRecord: 2.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$rCfVJUCzyi8qnuqQBYTYCeuQ/HxAH1iXSB6nAGPZcU1ZNGyftMLhi"], ["created_at", "2015-03-29 21:49:26.645577"], ["updated_at", "2015-03-29 21:49:26.645577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:49:26 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 6ms
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (5008.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
PG::ObjectInUse: ERROR:  database "tryit_test" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "tryit_test"
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (120.7ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (250.2ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.4ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$QEUJu3ZiqWnw3dnb5GIhZ.l/21Vpm/F1/jTzi6CWS04fSM3zABnGO"], ["created_at", "2015-03-29 21:50:38.897852"], ["updated_at", "2015-03-29 21:50:38.897852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:50:38 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:50:38.997025"], ["current_sign_in_at", "2015-03-29 21:50:38.997025"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:50:38.999569"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "d0c7c9e4853773d948ce3b0c820a1bdd69c238dd72cdcc59eb8785e6fd0bd996"], ["updated_at", "2015-03-29 21:50:39.009451"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 79ms (Views: 0.7ms | ActiveRecord: 3.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$E3bxpJ5e4mEWEeVD80h1dO1RFKuBZSRGI/rRE183WzRsrQuYbme3q"], ["created_at", "2015-03-29 21:50:39.053161"], ["updated_at", "2015-03-29 21:50:39.053161"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:50:39 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 5ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:50:39 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$iu39FuRdQJ1czB/3Phya7uUTS6Fj89n0BXHCUTdeWaAn97Bfs/7CW"], ["created_at", "2015-03-29 21:50:39.128961"], ["updated_at", "2015-03-29 21:50:39.128961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:50:39.132169"], ["current_sign_in_at", "2015-03-29 21:50:39.132169"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:50:39.134032"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:50:39 +0100
Processing by Users::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 14ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$7/gP1zE6NOuQ2r2799dJgeVoZsNMApwNsd85CEpSCNEyUxuWDDac2"], ["created_at", "2015-03-29 21:50:39.181579"], ["updated_at", "2015-03-29 21:50:39.181579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$4fGpgytqVwKsn7DjeM8/Oe7.XKiJP5QUmck8006o/sxmTvAqx07/y"], ["created_at", "2015-03-29 21:50:39.189865"], ["updated_at", "2015-03-29 21:50:39.189865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$RH1.j090rQjG9L299AOG9.n1psfqDPN4Pc2WtvP.H4kZ47OSwU8a6"], ["created_at", "2015-03-29 21:50:39.202799"], ["updated_at", "2015-03-29 21:50:39.202799"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$US8R3aKhEshG0yDXRCR8WuTNiTEy9uTE0uxGOdpDxciuXRPwv3miG"], ["created_at", "2015-03-29 21:50:39.219048"], ["updated_at", "2015-03-29 21:50:39.219048"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$KSaVqJs2kYiTwNd4YgNsgOtTRDQnHPmvY0Fg.XWEJbNBVphm9m76W"], ["created_at", "2015-03-29 21:50:39.230181"], ["updated_at", "2015-03-29 21:50:39.230181"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Ukf8Fj/EdR6P3L5JgY.Lp.pwqk1kO9vqK9RDIbBLg/SkAcXeMGCbG"], ["created_at", "2015-03-29 21:50:39.247426"], ["updated_at", "2015-03-29 21:50:39.247426"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$bl6CsJvCAyLX9g19UKJk8uOe30iWJFhzTeQnQoZjm4NhBzYiIJ7iu"], ["created_at", "2015-03-29 21:50:39.286606"], ["updated_at", "2015-03-29 21:50:39.286606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:50:39.294552"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$yOgUgnashNPYTQzxEADT3uNsMCX0h5qnc7vOMwlJB5WrtjngRS2ZS"], ["created_at", "2015-03-29 21:50:39.311020"], ["updated_at", "2015-03-29 21:50:39.311020"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (119.4ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (253.5ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.4ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$e7NDQMIWBEnj03FTdLf6ZuSQlacE7lMESeqssXP3hwal2HRJf8yMy"], ["created_at", "2015-03-29 21:51:46.748125"], ["updated_at", "2015-03-29 21:51:46.748125"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:51:46 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:51:46.839496"], ["current_sign_in_at", "2015-03-29 21:51:46.839496"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:51:46.842018"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "05b7e8d37b4aa4724a1f074cf07afb2d466708368dc3cdd203f04fc4e3e5bb76"], ["updated_at", "2015-03-29 21:51:46.849710"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 66ms (Views: 1.1ms | ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$.Ytj5hcl6yEzIbitOVRUR.kIoBcRXJgungpNzoWWYRUUctHTOv9by"], ["created_at", "2015-03-29 21:51:46.887028"], ["updated_at", "2015-03-29 21:51:46.887028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:51:46 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:51:46 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$sVHSz1x4aDrlaT2z3L6vO.T6i5gRrwHTw7FyvD2TpcG8ScRgJeWKO"], ["created_at", "2015-03-29 21:51:46.944531"], ["updated_at", "2015-03-29 21:51:46.944531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:51:46.946746"], ["current_sign_in_at", "2015-03-29 21:51:46.946746"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:51:46.947763"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 406 Not Acceptable in 12ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:51:46 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 406 Not Acceptable in 10ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$0XMXyUVhHZrQQTB406DoUuE02Z91V3FRBqJMMp76MM0mzsFSRu07O"], ["created_at", "2015-03-29 21:51:46.978824"], ["updated_at", "2015-03-29 21:51:46.978824"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$POosDIu9xOF9l4xbC9rcG.O.kqMgxJ9WRyUnAUNKO7solbTHVi9nC"], ["created_at", "2015-03-29 21:51:46.985311"], ["updated_at", "2015-03-29 21:51:46.985311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$3dC/xOlrWWyuQyNgkaJccetBhAcSwYwXLTt8t6SymvhmAN4QKOENq"], ["created_at", "2015-03-29 21:51:46.995834"], ["updated_at", "2015-03-29 21:51:46.995834"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$AwAY4vD/lZJQMVwKGyY9Ze1AD4DBX5E2ro6yDWYgqEsNk7xMpycru"], ["created_at", "2015-03-29 21:51:47.010454"], ["updated_at", "2015-03-29 21:51:47.010454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$J0BmJ/u05RMuMhcp42TlTON9zlb4gXv8fkTRSplkw3yFaEC4b9Ivi"], ["created_at", "2015-03-29 21:51:47.022509"], ["updated_at", "2015-03-29 21:51:47.022509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$x70dDId84pS3FJjw9NQpsuaAND8nFw3Ugxv5VvSdMYyk0FUOQsfVe"], ["created_at", "2015-03-29 21:51:47.035034"], ["updated_at", "2015-03-29 21:51:47.035034"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$BwqhmyosLQ.iAqPSPqFKV.HWxvyfbWv6oo3HQ4Bf/afk2LdAQnftS"], ["created_at", "2015-03-29 21:51:47.060236"], ["updated_at", "2015-03-29 21:51:47.060236"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:51:47.067992"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$qvaBIxQbiQlvWeAEkucFWeDmUDEJjm8dS/TtsdjS9VxqPGcQLdXxy"], ["created_at", "2015-03-29 21:51:47.086225"], ["updated_at", "2015-03-29 21:51:47.086225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (120.9ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (262.2ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (19.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$/tiTOgVwo.IRbLtIZk7.Iup.iG.PaJAtpANaf544RcNXsudkbp8/O"], ["created_at", "2015-03-29 21:53:00.984010"], ["updated_at", "2015-03-29 21:53:00.984010"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:53:00 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:53:01.074047"], ["current_sign_in_at", "2015-03-29 21:53:01.074047"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:53:01.076954"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "74b8e7c4bce6e4b80622f9204662b65ee0562134914d47b78a516d2633fa5f03"], ["updated_at", "2015-03-29 21:53:01.084803"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 64ms (Views: 0.8ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$Aub.3QKGkIV1RcZdd7FIpOQLFY9.EK3PrRvSMOi4XrKzqclQOb5li"], ["created_at", "2015-03-29 21:53:01.123781"], ["updated_at", "2015-03-29 21:53:01.123781"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:53:01 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 6ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:53:01 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$b3QGcKu030HmZ4wteUWjEeLLGHSeXPVBWqRDKZuQDlpKJ0t.sPVqG"], ["created_at", "2015-03-29 21:53:01.189846"], ["updated_at", "2015-03-29 21:53:01.189846"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:53:01.192618"], ["current_sign_in_at", "2015-03-29 21:53:01.192618"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:53:01.193863"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 406 Not Acceptable in 15ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:53:01 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 406 Not Acceptable in 11ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$/ALYtn311k9YUz6L//PVWu77LRFqyWpox4JlT7TE2xpvTMfWxkBei"], ["created_at", "2015-03-29 21:53:01.229832"], ["updated_at", "2015-03-29 21:53:01.229832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$VBULf01/82jZr7AUgfQObO7AEbqIbdaFiosZQu/E30VxWx72UrYx2"], ["created_at", "2015-03-29 21:53:01.237575"], ["updated_at", "2015-03-29 21:53:01.237575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$NVJofZGlK6wwHhON644Nm.xPODmLVePai8Rzl1FBh2HRhKWgWSLvO"], ["created_at", "2015-03-29 21:53:01.250060"], ["updated_at", "2015-03-29 21:53:01.250060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$WX.pUoP.zh8/jxHmWIhsiOMeF5GA4pxn8MbjYzbtWFpEyhJkHL7jm"], ["created_at", "2015-03-29 21:53:01.269162"], ["updated_at", "2015-03-29 21:53:01.269162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$GQmuAba2EY8xSCSPN8nSXO8MvzuMESDt4qBoT5TVqVaCAj8vI.l2u"], ["created_at", "2015-03-29 21:53:01.280912"], ["updated_at", "2015-03-29 21:53:01.280912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$9DR5ccVvuu7PWy0C56wojOmXwJo39.aWwr9ZAMRs0ne3McFUnwy/2"], ["created_at", "2015-03-29 21:53:01.295166"], ["updated_at", "2015-03-29 21:53:01.295166"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$05Mb9D.XMQ93HqbyH1rxi.V7BI9D.7LKs9PaFUKhpHdHepxwFEKQK"], ["created_at", "2015-03-29 21:53:01.324330"], ["updated_at", "2015-03-29 21:53:01.324330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:53:01.333236"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$.u1oBREpDkSDTNZOpmmpTeHStuLzT/zMJmLg69buagQ4IKQoCpu3K"], ["created_at", "2015-03-29 21:53:01.353565"], ["updated_at", "2015-03-29 21:53:01.353565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (119.3ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (376.1ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (7.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (3.7ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$24fDT6T.JiD1VMoNXxo15OpJaPIx.C/9VzBAk7b1lAcht56EghwgG"], ["created_at", "2015-03-29 21:53:27.063821"], ["updated_at", "2015-03-29 21:53:27.063821"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:53:27 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:53:27.158085"], ["current_sign_in_at", "2015-03-29 21:53:27.158085"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:53:27.159776"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "76f09ade744929add569146f6548c32aa1a806d89709c7a3f878071606a85970"], ["updated_at", "2015-03-29 21:53:27.165833"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 65ms (Views: 0.6ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$YJwkgmdmdAZMEZP7g3KeU.KcENgBvCDw/sUZZ7g9Y/jmiVOdwS/t."], ["created_at", "2015-03-29 21:53:27.204246"], ["updated_at", "2015-03-29 21:53:27.204246"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:53:27 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[36m (1.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:53:27 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$KNe14CIK7aWYb6hzWsC0xe6uOPIycMR12fcKfcLKFyiEA6GjXFl8y"], ["created_at", "2015-03-29 21:53:27.274688"], ["updated_at", "2015-03-29 21:53:27.274688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:53:27.277832"], ["current_sign_in_at", "2015-03-29 21:53:27.277832"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:53:27.279744"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 406 Not Acceptable in 20ms
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:53:27 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 406 Not Acceptable in 13ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$rUBY/sjiey2kZ44J8nlRDOgjw8gpqlWV56yhe.KVyXSL6Wmw6w6LO"], ["created_at", "2015-03-29 21:53:27.317135"], ["updated_at", "2015-03-29 21:53:27.317135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$SBSRD9WyWIRcV2LiZYuD9es8qDyMFMZi4DP74ykbHSRueMKSueCB2"], ["created_at", "2015-03-29 21:53:27.328632"], ["updated_at", "2015-03-29 21:53:27.328632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$FnVkFjL41IRgqKYLk4.0VexWGT.eJscajYgXA.InIrT03LDjYsq2C"], ["created_at", "2015-03-29 21:53:27.339896"], ["updated_at", "2015-03-29 21:53:27.339896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$ts.NqOeVExXJWZtfk37pCeTXVHZMhpJB43thQ/.iOyaW387nnLCcm"], ["created_at", "2015-03-29 21:53:27.358517"], ["updated_at", "2015-03-29 21:53:27.358517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$MJQIvTWCRdyWouerDtGMguCzp5MzXnpxsf8FgWcZ4nLaPvNHqnMX2"], ["created_at", "2015-03-29 21:53:27.374555"], ["updated_at", "2015-03-29 21:53:27.374555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$zRBClo78qvXtO81LCKaBjepFvpxF2c7pp3Ix95qaNL47Dwzyh2DW6"], ["created_at", "2015-03-29 21:53:27.389077"], ["updated_at", "2015-03-29 21:53:27.389077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$OySDL567ZIFM6jDkIaZwee3ypglhNFDvpeKEgv/L1al6cncESmftS"], ["created_at", "2015-03-29 21:53:27.424316"], ["updated_at", "2015-03-29 21:53:27.424316"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:53:27.430766"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$iSVgm7HhH/d.9gfqI5UesuJx9PFT7tqKqxfSa.SFpApAMBlY9jf1q"], ["created_at", "2015-03-29 21:53:27.448689"], ["updated_at", "2015-03-29 21:53:27.448689"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (128.8ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (254.4ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.4ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.5ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (9.6ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$WxkgT2ixdNuLs5CBLkNyFeo4tbB4yAbkvWWA/VD/fw0E.QiVawSUq"], ["created_at", "2015-03-29 21:54:59.275730"], ["updated_at", "2015-03-29 21:54:59.275730"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:54:59 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:54:59.354177"], ["current_sign_in_at", "2015-03-29 21:54:59.354177"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:54:59.356392"], ["id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "4443f95135ac4186e63507f53bc8f76007dbe242edbc54dd825f625b527efcb7"], ["updated_at", "2015-03-29 21:54:59.365188"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 70ms (Views: 0.8ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$G6.t.3SMDEZlerOc.dWrz.m2miU9YY2.zafJr2MYyzyWSXPmZ91Ca"], ["created_at", "2015-03-29 21:54:59.408131"], ["updated_at", "2015-03-29 21:54:59.408131"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:54:59 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 5ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:54:59 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$Tnxo3N93ewERzVcx.V5CYOA1yCM.anGtSQArj32FWyYNunfMEzcQu"], ["created_at", "2015-03-29 21:54:59.463974"], ["updated_at", "2015-03-29 21:54:59.463974"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:54:59.467725"], ["current_sign_in_at", "2015-03-29 21:54:59.467725"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:54:59.469103"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 25ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:54:59 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$p3YKxdxbsq3Eha2kteIaVeTGIlFvMAXCe.5tQtYYF36mq1FmSDj1W"], ["created_at", "2015-03-29 21:54:59.516779"], ["updated_at", "2015-03-29 21:54:59.516779"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$k6htfPuiW2X7bBflQpNE4eort25DMg6I/9.tMqUSOh6CRXoQct6gG"], ["created_at", "2015-03-29 21:54:59.523751"], ["updated_at", "2015-03-29 21:54:59.523751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$0aqH055uSUwCUmDoxXxGn..HSC/7s6Lr.GuLVSpVnvVRybuzdOnpq"], ["created_at", "2015-03-29 21:54:59.536512"], ["updated_at", "2015-03-29 21:54:59.536512"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$yauXGpfDhV/aXVtFmBzm8uVvD9gS3/GJjrp06ZX/Py3Kdn7r42QMi"], ["created_at", "2015-03-29 21:54:59.556056"], ["updated_at", "2015-03-29 21:54:59.556056"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$rFE/g/IShJIrwfkcSWgHHuvy.iupD06tk8SfMfH3rYNbfYNCzQPmy"], ["created_at", "2015-03-29 21:54:59.567048"], ["updated_at", "2015-03-29 21:54:59.567048"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Qr7vg1fAxGPI9rons7m68.lwIwRVtcOcAd0uxF5IiFdnTGZ.3R4Ie"], ["created_at", "2015-03-29 21:54:59.583219"], ["updated_at", "2015-03-29 21:54:59.583219"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$GjfxtQenB8U4dU1Ijq0fIeinda0LWk9hpXNXP1VnYmV/hJVlD4mMO"], ["created_at", "2015-03-29 21:54:59.611846"], ["updated_at", "2015-03-29 21:54:59.611846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:54:59.617765"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$nyCvyqnwQq4lz561g.Jyb.fHsLIjH.GGfGbK0TYp0mNiTvJqTMNui"], ["created_at", "2015-03-29 21:54:59.634869"], ["updated_at", "2015-03-29 21:54:59.634869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (121.6ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (251.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (1.6ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.5ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$eD/4qORtHqLMCsCXo3T.s.H7ufLvoml6LMEByoKp6hK18ESQBWk7G"], ["created_at", "2015-03-29 21:55:11.661047"], ["updated_at", "2015-03-29 21:55:11.661047"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:55:11 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:55:11.739193"], ["current_sign_in_at", "2015-03-29 21:55:11.739193"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:55:11.740758"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "752b9c5c123155db3d63cf79dd65ba5b419f6ae4649bd312e97a0996de9d0d6f"], ["updated_at", "2015-03-29 21:55:11.747631"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 58ms (Views: 0.7ms | ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$b6n9TArI7LHHHcvGf/oNsOI0jCJPZnhTI2tPVLdYK0MeIfCgiQtYu"], ["created_at", "2015-03-29 21:55:11.783316"], ["updated_at", "2015-03-29 21:55:11.783316"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-03-29 22:55:11 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:55:11 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$0zOYgR.G3o7/CtvYjwZN9eHsN8sxqcPP5kK3z4coGTMd6MNfKmJ.y"], ["created_at", "2015-03-29 21:55:11.840164"], ["updated_at", "2015-03-29 21:55:11.840164"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-03-29 21:55:11.842660"], ["current_sign_in_at", "2015-03-29 21:55:11.842660"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-03-29 21:55:11.844444"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 24ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-03-29 22:55:11 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 12ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$qgO4FM14tWvv4jlmgVbuxuaZsLB7Khto5RD7qCHKzrqScUFi0HxtG"], ["created_at", "2015-03-29 21:55:11.888092"], ["updated_at", "2015-03-29 21:55:11.888092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$s0xPw/iuPtGqwui9rHMyAuVoy525GIKF6doDXJOBOi1MQVWpbrIee"], ["created_at", "2015-03-29 21:55:11.895140"], ["updated_at", "2015-03-29 21:55:11.895140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$YIHa1wh5jA93CCmvuy6eEuNxDEbK8iJ15w6lal21ngix469CSFXQG"], ["created_at", "2015-03-29 21:55:11.907477"], ["updated_at", "2015-03-29 21:55:11.907477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$uYYGGoM/etns2cjMWk0iCeurAxx9FFZXZ58VMFPB8jcPmPf6Dynk."], ["created_at", "2015-03-29 21:55:11.925151"], ["updated_at", "2015-03-29 21:55:11.925151"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$88Hfd7ALwzBIbUZ4W50A.eZwnXh9/iJfJXFTR/CwlEyqNgxlQfqwm"], ["created_at", "2015-03-29 21:55:11.937413"], ["updated_at", "2015-03-29 21:55:11.937413"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$.gFU8IxiHd6/IZUxS.C4QupfGra41ktI9/quQNCl9CVxi2JuYoFsi"], ["created_at", "2015-03-29 21:55:11.951873"], ["updated_at", "2015-03-29 21:55:11.951873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$b0nr0vrJxV68IdaRQRfaMu/.Q2r4hq71wDcFyc1nmX1lqgQywUroe"], ["created_at", "2015-03-29 21:55:11.981590"], ["updated_at", "2015-03-29 21:55:11.981590"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-03-29 21:55:11.991123"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$72RUu5XixslrpOwuz2Iknea8FcWEXTF6CkZBLCFgaUiPURTVkj85W"], ["created_at", "2015-03-29 21:55:12.008435"], ["updated_at", "2015-03-29 21:55:12.008435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (124.2ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (431.2ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (11.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.9ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (8.8ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$q.LHJkMMAl4bAzruaqYa3O3ySQsWRO6Tz4EppdX6mPmXhEICr4cEy"], ["created_at", "2015-04-04 18:51:44.118846"], ["updated_at", "2015-04-04 18:51:44.118846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 19:51:44 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 18:51:44.214775"], ["current_sign_in_at", "2015-04-04 18:51:44.214775"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 18:51:44.216384"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "0cad9388d30082136f647e044238bb782e43d08964dfcea80359d2ec59d7d7b2"], ["updated_at", "2015-04-04 18:51:44.224499"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 72ms (Views: 1.0ms | ActiveRecord: 2.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$ykXJJsWbnSRc2LJ4uShiOeqSws68.aSYUdVHhXw6NxMzbTYwsRs96"], ["created_at", "2015-04-04 18:51:44.265682"], ["updated_at", "2015-04-04 18:51:44.265682"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 19:51:44 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[36m (0.7ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-04-04 19:51:44 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$kRyi/lRn102J7AKaIuTYb.T44ZWeq78JjpQfwPG6rAGKrri78BGLy"], ["created_at", "2015-04-04 18:51:44.336377"], ["updated_at", "2015-04-04 18:51:44.336377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 18:51:44.340041"], ["current_sign_in_at", "2015-04-04 18:51:44.340041"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 18:51:44.341091"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 27ms (Views: 0.6ms | ActiveRecord: 3.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-04-04 19:51:44 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 13ms (Views: 1.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$yyjAodmKkBr8WY76U4EyUuWU9EzkhomARYsU2YHlO3XsdcpJuMkfS"], ["created_at", "2015-04-04 18:51:44.394938"], ["updated_at", "2015-04-04 18:51:44.394938"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$A.ovHdMhMQ5ghnzgqbUx7.B/a68ZdX8EnAxgI/BgiRiWT6V9ltbIy"], ["created_at", "2015-04-04 18:51:44.406263"], ["updated_at", "2015-04-04 18:51:44.406263"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$qplognXJLNkMg3XioutqjeY9XW7/v9gtO/RahH162oincaXw6jwI."], ["created_at", "2015-04-04 18:51:44.417874"], ["updated_at", "2015-04-04 18:51:44.417874"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Fw0ou7CiLUWObMxa1tolF.UVQNVWapjicliilm/8btOFf0CUoGRxe"], ["created_at", "2015-04-04 18:51:44.435996"], ["updated_at", "2015-04-04 18:51:44.435996"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.7ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (3.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$c/EH2XxPli8xMAyvkIJ6CeFY1hFYMXS8Z4aQbZH6o0kq7lT3l3XUW"], ["created_at", "2015-04-04 18:51:44.460336"], ["updated_at", "2015-04-04 18:51:44.460336"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$9d2s95HcWGgttoLkUsjoguk4QLpLojfduPTkcowuA6uOu98SYH4RK"], ["created_at", "2015-04-04 18:51:44.480030"], ["updated_at", "2015-04-04 18:51:44.480030"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.6ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$6N2NkrjHLJ4zP19dCYo8R.HNkGOyPIbTGAvLSByMPBTGXhHO9PSj2"], ["created_at", "2015-04-04 18:51:44.541613"], ["updated_at", "2015-04-04 18:51:44.541613"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-04-04 18:51:44.562900"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$FQaMb.VDqaHSWBm4Z4iZeeP77zTBH5NVB/fPhz6Ys6vbz1FR05l/K"], ["created_at", "2015-04-04 18:51:44.602039"], ["updated_at", "2015-04-04 18:51:44.602039"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (130.5ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (460.0ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (1.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (15.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (3.1ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.0ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$F1M5c/p8RNG87OvCL0GQyeXNWcUhKy4m1zmxzGwJDlW8A7YMJpCzS"], ["created_at", "2015-04-04 21:28:33.581615"], ["updated_at", "2015-04-04 21:28:33.581615"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 22:28:33 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 21:28:33.672292"], ["current_sign_in_at", "2015-04-04 21:28:33.672292"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 21:28:33.674060"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."authentication_token" = '9LJKqPo_vv7pzu4BM5xZ'  ORDER BY "users"."id" ASC LIMIT 1[0m
PG::UndefinedColumn: ERROR:  column users.authentication_token does not exist
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."authentication...
                                             ^
: SELECT  "users".* FROM "users" WHERE "users"."authentication_token" = '9LJKqPo_vv7pzu4BM5xZ'  ORDER BY "users"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 38ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$J5Gg.Tn/ATRsssvnjfaOtuqS3DvR537Ysgc7GKFW8T95Uiy0WXLSS"], ["created_at", "2015-04-04 21:28:33.690538"], ["updated_at", "2015-04-04 21:28:33.690538"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 22:28:33 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-04-04 22:28:33 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$aY8o1D.x5rbPfknbBfb.Ued0b4INc12QDxeVYW/BtZ910D18LE8sm"], ["created_at", "2015-04-04 21:28:33.754711"], ["updated_at", "2015-04-04 21:28:33.754711"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-04-04 21:28:33.759568"], ["current_sign_in_at", "2015-04-04 21:28:33.759568"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 21:28:33.760804"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 75ms (Views: 0.6ms | ActiveRecord: 2.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-04-04 22:28:33 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$nKFfZ38FZaGC5OYV/65aTu2O3HhI1vizPozAU7sUPnwy72Q/qtBES"], ["created_at", "2015-04-04 21:28:33.856783"], ["updated_at", "2015-04-04 21:28:33.856783"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$byS2pCFE/WHjsv32UBSd1OpvP8n8QydRTKrQPWeFtn5gnYjzy55Ai"], ["created_at", "2015-04-04 21:28:33.867338"], ["updated_at", "2015-04-04 21:28:33.867338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$8eyPbZ9oYSO9mW.ErQtM7en8rrqyHJavid0.dw8EmsBn4jvAXVSSa"], ["created_at", "2015-04-04 21:28:33.880465"], ["updated_at", "2015-04-04 21:28:33.880465"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$gW0mb5CVO1XHMnJpUcdZJupzbDe2SXMHXPlRVOG1s2mYajZ.lyhR2"], ["created_at", "2015-04-04 21:28:33.897735"], ["updated_at", "2015-04-04 21:28:33.897735"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rfederer"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$CbfHsbflC60abdJ9eGugc.bUnKCXyWe41UwSpnixnaAWtThVg/3zi"], ["created_at", "2015-04-04 21:28:33.909942"], ["updated_at", "2015-04-04 21:28:33.909942"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rnadal"]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Y5nfE8A/e5O37ut1dXLzu.dwCmG/lO0voqLRRjvooQzOl7YjudSAe"], ["created_at", "2015-04-04 21:28:33.923584"], ["updated_at", "2015-04-04 21:28:33.923584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Df0mkcd.ZxrOwtYjvJp3AeqWitUUl4p6Me1JTZxFtEvA/p0TiuB6a"], ["created_at", "2015-04-04 21:28:33.956529"], ["updated_at", "2015-04-04 21:28:33.956529"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["username", "rnadal"], ["updated_at", "2015-04-04 21:28:33.966630"], ["id", 10]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$ZZKp8IPVO2QpIgEI0btvju5otOx9dOLK30alFmOlOc9CO7hOWGEWu"], ["created_at", "2015-04-04 21:28:33.990000"], ["updated_at", "2015-04-04 21:28:33.990000"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (133.9ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (409.6ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (3.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (9.0ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$Y.HfN2.AQ5IAn3M1POZyd.pI7/OsqDGMqjfoAQW.1MOHk29zmOA4q"], ["created_at", "2015-04-04 21:31:53.163977"], ["updated_at", "2015-04-04 21:31:53.163977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 22:31:53 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 21:31:53.252224"], ["current_sign_in_at", "2015-04-04 21:31:53.252224"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 21:31:53.253724"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["token", "hk3PxkMdQJY7nck3GAti"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["token", "hk3PxkMdQJY7nck3GAti"], ["updated_at", "2015-04-04 21:31:53.261327"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 66ms (Views: 1.0ms | ActiveRecord: 2.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$d215fmeSGcPZdhLIFIgswO9lY719T46wWk8QrHjssJcCvMELepJl6"], ["created_at", "2015-04-04 21:31:53.306468"], ["updated_at", "2015-04-04 21:31:53.306468"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 22:31:53 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-04-04 22:31:53 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$69XurV7AeniY7gidUt/HUuunoUjkaHN58dXko4DbkVTZuF7Cbj4SK"], ["created_at", "2015-04-04 21:31:53.373051"], ["updated_at", "2015-04-04 21:31:53.373051"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-04-04 21:31:53.376289"], ["current_sign_in_at", "2015-04-04 21:31:53.376289"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 21:31:53.377680"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 201 Created in 29ms (Views: 0.7ms | ActiveRecord: 2.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2015-04-04 22:31:53 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$BZ9LhRLQSgh3X6RrS/oEbe.EXZrZCW1OKW47sCNOo9hufPAo4X9Cq"], ["created_at", "2015-04-04 21:31:53.424598"], ["updated_at", "2015-04-04 21:31:53.424598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$5PBGrN5uybKnt6bJ76MGn.F5Ra/wpZn7gjT96rq7VHLsOP0BDYznG"], ["created_at", "2015-04-04 21:31:53.433500"], ["updated_at", "2015-04-04 21:31:53.433500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$LBCjJXGvqpUuQlFPP9/bFeFLxrqeyfNnoL2z6cG.8RhxYMlo3Isde"], ["created_at", "2015-04-04 21:31:53.443590"], ["updated_at", "2015-04-04 21:31:53.443590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$71PZ0Y3qIZNmlsFdwALgz.vbZtpXnC/R2HNHjm.1I3H20mA8iO0YK"], ["created_at", "2015-04-04 21:31:53.458669"], ["updated_at", "2015-04-04 21:31:53.458669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rfederer"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$PE3Wy.gNd5FUhEebhjfWYe/8HG8U2DNYIwiUZPpil6IyW0ECte6E6"], ["created_at", "2015-04-04 21:31:53.468738"], ["updated_at", "2015-04-04 21:31:53.468738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "rnadal"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$fcesfanVcwDFdeNV1dKpMeZOAYMOr1y6bqoMRdJdHY2W3IykRDBpq"], ["created_at", "2015-04-04 21:31:53.480215"], ["updated_at", "2015-04-04 21:31:53.480215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$xpsfsBs8a48TdsVKKjD0F.xCuyxVAWgaTbhj9ZOC4R.WYc5xI0xfy"], ["created_at", "2015-04-04 21:31:53.513456"], ["updated_at", "2015-04-04 21:31:53.513456"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["username", "rnadal"], ["updated_at", "2015-04-04 21:31:53.519260"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$rVio.5O5.8FqEwfnhi9gtOxj9bgjbV4QdZ5RjdI1GD0opXrlNRkfe"], ["created_at", "2015-04-04 21:31:53.534728"], ["updated_at", "2015-04-04 21:31:53.534728"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (132.7ms)[0m  [1mDROP DATABASE IF EXISTS "tryit_test"[0m
  [1m[35m (426.5ms)[0m  CREATE DATABASE "tryit_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "username" character varying DEFAULT '' NOT NULL, "token" character varying) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_username" ON "users" USING btree ("username")[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150329211457')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150307165848')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150308165533')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE tablename !~ '_prt_' AND schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tryit_test'[0m
  [1m[35m (7.7ms)[0m  TRUNCATE TABLE "public"."users", "public"."schema_migrations" RESTART IDENTITY CASCADE;
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$xSAxbhmp2JQUZhTOWBuuvuFgKZlOIHYKn4HIe.uOVPyU/ecesfYjq"], ["created_at", "2015-04-04 22:07:16.506386"], ["updated_at", "2015-04-04 22:07:16.506386"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 23:07:16 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "dnlserrano@mail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 22:07:16.598549"], ["current_sign_in_at", "2015-04-04 22:07:16.598549"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 22:07:16.600206"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'dnlserrano' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["token", "4e422f5099b2f9f9e99524209ee8ad12cbf09540c29cb0ca50d35b739db21a83"], ["updated_at", "2015-04-04 22:07:16.606563"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 65ms (Views: 0.5ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "username", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "dnlserrano@mail.com"], ["username", "dnlserrano"], ["encrypted_password", "$2a$04$o0B8AEPtNp0Zq80fmEZCC.WW9lQho/JGyywgV57mhjiQdXio3ZbMm"], ["created_at", "2015-04-04 22:07:16.644500"], ["updated_at", "2015-04-04 22:07:16.644500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2015-04-04 23:07:16 +0100
Processing by Users::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"dnlserrano@mail.com", "password"=>"[FILTERED]"}}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "dnlserrano@mail.com"]]
Completed 401 Unauthorized in 4ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-04-04 23:07:16 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "dnlserrano"], ["email", "dnlserrano@mail.com"], ["encrypted_password", "$2a$04$PbUdVlp3ZDmRZW.0ozNVp.Qnv0UuW4G76.n2XOxs8XFAyzb4GtiPG"], ["created_at", "2015-04-04 22:07:16.704517"], ["updated_at", "2015-04-04 22:07:16.704517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-04-04 22:07:16.706495"], ["current_sign_in_at", "2015-04-04 22:07:16.706495"], ["last_sign_in_ip", "127.0.0.1/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2015-04-04 22:07:16.707478"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 201 Created in 19ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
Started POST "/users" for 127.0.0.1 at 2015-04-04 23:07:16 +0100
Processing by Devise::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"dnlserrano@mail.com", "username"=>"dnlserrano", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dnlserrano@mail.com' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'dnlserrano' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$du4gOBsuf8AcgBVhokztdeawfnpgxZ6N8zG2U60YcBKrrgFqjnJsq"], ["created_at", "2015-04-04 22:07:16.745990"], ["updated_at", "2015-04-04 22:07:16.745990"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rnadal@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rnadal' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rnadal"], ["email", "rnadal@atp.com"], ["encrypted_password", "$2a$04$G.jJIMJ/ti25D0MD1l5Yr.Mc89bbUznIQt6u9jkw0uwUHd32buIPS"], ["created_at", "2015-04-04 22:07:16.752272"], ["updated_at", "2015-04-04 22:07:16.752272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$8OO3lWaQpZlEOdFMmlyE6OgiHk5Z9b4aP0MsnEED4SGH1of041H2K"], ["created_at", "2015-04-04 22:07:16.762060"], ["updated_at", "2015-04-04 22:07:16.762060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$TvyV5ieE0RPxZelULGuYv.2f6FCeju1dmE.hckC6.JBrMcnpHrPPi"], ["created_at", "2015-04-04 22:07:16.779042"], ["updated_at", "2015-04-04 22:07:16.779042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rfederer"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$BFgIx/ndaZ2WauPPN9GW3eVR1nU7cogKc/zqdyKfu12jIwb0nLCu6"], ["created_at", "2015-04-04 22:07:16.788986"], ["updated_at", "2015-04-04 22:07:16.788986"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "rnadal"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$Ib36lRG7uyCAV/MpixHdJeyv6vY6XsaOTJO3PtezbcWj7UrX6hsVe"], ["created_at", "2015-04-04 22:07:16.801027"], ["updated_at", "2015-04-04 22:07:16.801027"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$zLHKOyhbXiS1.734issc6uKsVyXP16xkMdiwJWz96id9ECWHLrZ5u"], ["created_at", "2015-04-04 22:07:16.838007"], ["updated_at", "2015-04-04 22:07:16.838007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'rnadal' AND "users"."id" != 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "rnadal"], ["updated_at", "2015-04-04 22:07:16.844110"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rfederer@atp.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'rfederer' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rfederer"], ["email", "rfederer@atp.com"], ["encrypted_password", "$2a$04$C27YQ2OiMhjEwkFvEcnRh.XsCSdRcuh3OKh5dXLpSAVcmNLa.XY.e"], ["created_at", "2015-04-04 22:07:16.859694"], ["updated_at", "2015-04-04 22:07:16.859694"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
